## 索引



> #### 索引概述

#####  	索引是一种特殊的文件(InnoDB数据表上的索引是表空间的一个组成部分)，它们包含着对数据表里所有记录的引用指针。更通俗的说，数据库索引好比是一本书前面的目录，能加快数据库的查询速度 

##### 	索引是数据库中用来用来提高select操作性能的最佳途径。存储引擎的不同，对于每个表的最大索引数与最大的索引长度都有所不同。例如，存储引擎（MyISAM,InnoDB,BDB,MEMORY等）对每个表至少支持16个索引，总索引长度至少为256字节，其余的存储引擎的话有更高的限制。



> #### 索引类型

* ##### 普通索引

  ##### mysql中最基本的索引，没有任何的限制。

* ##### 全本文索引

  ##### 该索引支持全文搜索。（PS：目只有MyISAM存储引擎支持FULLTEXT索引，并且只限于CHAR||VARCHAR||TEXT，索引是对整个列进行的，不支持局部（前缀）索引）

* ##### 唯一索引

  ##### 与普通索引相比较，唯一索引不同的是：索引列的值必须唯一，但允许有空值。同理，组合索引（多个列组成的唯一索引）中组合列的值也是唯一的。

* ##### 主键索引

  ##### 一种特殊的唯一索引，不不允许有空值。一般在建表的同时创建主键索引。	

* ##### 前缀索引

  ##### 前缀索引即对索引字段的前N个字符创建索引。前缀索引的长度跟存储引擎相关。

  ##### MyISAM:  前缀索引长度可以达到1000字节

  ##### InnoDB：前缀索引长度最长为767字节

  ##### PS：在使用前缀索引是，应注意其限制是以字节为单位测量，而CREATE TABLE语句中的前缀长度解释为字符数。



> #### 	索引操作

##### 创建索引：

```
create [UNIQUE|FULLTEXT|SPATIAL] index index_name [using index_type] on table_name (index_col_name...)

index_col_name: col_name[(length)|ASC|DESC]
```

##### Alter增加索引：

```
alter table_name add [UNIQUE|FULLTEXT|SPATIAL] index index_name on
(index_col_name)
与上述在创建表格时的语法相似
```

##### 删除索引：

```
drop index index_name on table_name
```

##### 查看语句中使用索引:

```
explain select * from table_name
```



> #### 索引原则



* ##### 最适合的索引列是出现在where子句中的列，或者连接子句中的列，而不是出现在select关键字后选择的列表中的列。

* ##### 使用唯一索引，考虑某列中值的分布。如果索引的列基数越大，索引的效果越好。即是，如果索引的值是时间的话，那么久很容易区分，那么索引的效果就越好，倘若是好像记录性别的列的话，只含有“M”|"F"，则此种索引的效果就没多大用处了。

* ##### 切勿过度索引。每个额外的索引都要占用额外的磁盘空间，并降低了写操作的性能。在修改表的内容时，索引必须进行更新，有时候还要重构。其次，修改索引这种操作，会减缓表的修改速度。



> ##### 资料来源
>
> 深入浅出mysql



> 未完待更新与修改